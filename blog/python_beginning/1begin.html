<!DOCTYPE html>
<html>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?a4d4cfbf5559c427ea39c9814a033024";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
<head>
  <title>基础知识 - peishunli.site</title>
  <meta charset="UTF-8">
  <link rel="shortcut icon" href="..\..\favicon.ico" type="image/ico">
  <link rel="stylesheet" type="text/css" href="..\..\css\site.min.css">
  <script type="text/javascript" async="async" src="..\..\mathjax\MathJax.js?config=TeX-AMS_HTML"></script>
  <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
  <link href="..\..\tipuesearch\tipuesearch.css" rel="stylesheet">
  <script src="..\..\tipuesearch\tipuesearch_set.js"></script>
  <script src="..\..\tipuesearch\tipuesearch.min.js"></script>
</head>
<body>
<div id="topbar">
  <div style="display: block; float: right">
  <form action="..\..\search.html">
  <input type="text" placeholder="Search Here" name="q" id="tipue_search_input" autocomplete="off" required>
  </form>
  </div>
</div>
<ul class="breadcrumb"><li><a href="..\..\index.html">HOME</a></li><li><a href="..\posts.html">POSTS</a></li><li><a href="..\posts.html#PYTHON_BEGINNING">PYTHON_BEGINNING</a></li><li class="active">基础知识</li></ul>

<div id="view">
<div class="toc">
<ul>
<li><a href="#1-python">1 安装Python</a><ul>
<li><a href="#11-windows">1.1 windows</a></li>
<li><a href="#12-linux">1.2 Linux</a></li>
</ul>
</li>
<li><a href="#2-python">2 Python交互式解释器</a></li>
<li><a href="#3">3 数据和表达式</a></li>
<li><a href="#4">4 变量</a></li>
<li><a href="#5">5 语句</a></li>
<li><a href="#6">6 获取用户输入</a></li>
<li><a href="#7">7 函数</a></li>
<li><a href="#8">8 模块</a></li>
<li><a href="#9">9 保存并执行程序</a></li>
<li><a href="#10">10 注释</a></li>
<li><a href="#11">11 字符串</a><ul>
<li><a href="#111-">11.1 转义符号-反斜线</a></li>
<li><a href="#112">11.2 拼接字符串</a></li>
<li><a href="#113-strrepr">11.3 字符串表示，str和repr</a></li>
<li><a href="#114-inputraw_input">11.4 input和raw_input的比较</a></li>
<li><a href="#115">11.5 原始字符串</a></li>
</ul>
</li>
<li><a href="#12">12 小结</a></li>
</ul>
</div>
<div id="container">

<p>大家好！为了能够更系统地了解Python，我开始学习各种教程。为了及时将所学内容和大家分享，同时巩固知识，我决定写这个Python教程。</p>
<h3 id="1-python">1 安装Python</h3>
<h4 id="11-windows">1.1 windows</h4>
<p>(1) 从 http://www.python.org 下载Python安装包<br />
(2) 双击运行Python的Windows Installer，这样会开启Python的安装向导，只需要接受默认设置。  </p>
<h4 id="12-linux">1.2 Linux</h4>
<p>在绝大多数Linux系统中，Python的解释器就已经存在。如果读者需要自己安装Python，可以使用Linux中的包管理器进行安装。如果使用的操作系统为Debian Linux， 那么可以用下面的命令来安装Python: <br />
<code>$ apt-get install python</code><br />
如果是RedHat Linux，则使用: <br />
<code>$ yum install python</code></p>
<h3 id="2-python">2 Python交互式解释器</h3>
<p>当启动Python的时候，会出现和下面类似的提示： <br />
Python 2.7.10 (default, May 23 2015, 09:44:00) [MSC v.1500 64 bit (AMD64)] on win32<br />
Type &ldquo;copyright&rdquo;, &ldquo;credits&rdquo; or &ldquo;license()&rdquo; for more information. <br />
>&gt;&gt;  <br />
试着输入下面的命令看看它是否正常工作：    </p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="k">print</span> <span class="s">&#39;Hello, world!&#39;</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>Hello, world!
</pre></div>
</td></tr></table>

<p>发生了什么？那个&gt;&gt;&gt;符号就是提示符，可以在后面写上Python语句，比如print &lsquo;Hello, world!&rsquo;。如果按下回车，Python解释器会打印出&rsquo;Hello, world!&rsquo;字符串。接下来先从一些简单的Python语句开始，看看能用它们做些什么。</p>
<h3 id="3">3 数据和表达式</h3>
<p>交互式Python解释器可以当作非常强大的计算器使用，试试以下的例子：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="mi">1</span><span class="o">/</span><span class="mi">2</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>0
</pre></div>
</td></tr></table>

<p>发生了什么？一个整数被另外一个整数除，计算结果的小数部分被截除了，只留下整数部分。这里提供两个有效的解决方案：要用实数（包含小数点的十进制数）进行运算，或让Python改变除法的执行方式。 <br />
实数在Python中被称为浮点数（Float，或者Float-point Number），如果参与除法的两个数中有一个数为浮点数，结果亦为浮点数：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="mf">1.0</span><span class="o">/</span><span class="mf">2.0</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>0.5
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="mf">1.0</span><span class="o">/</span><span class="mi">2</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>0.5
</pre></div>
</td></tr></table>

<p>如果希望Python只执行普通的除法，那么可以在程序前加上以下语句，或者直接在解释器里执行它：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">division</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="mi">1</span><span class="o">/</span><span class="mi">2</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>0.5
</pre></div>
</td></tr></table>

<p>通过使用上述方法，除法会变得更为合理。上述代码中future前后是两个下划线，以后会对__future__模块进行深入的介绍。Python还提供了另外一种用于实现整除的操作符-双斜线：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="mi">1</span><span class="o">//</span><span class="mi">2</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>0
</pre></div>
</td></tr></table>

<p>就算是浮点数，双斜线也会执行整除：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="mf">1.0</span><span class="o">//</span><span class="mf">2.0</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>0.0
</pre></div>
</td></tr></table>

<p>还有一个非常有用的运算符：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="mi">1</span><span class="o">%</span><span class="mi">2</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>1
</pre></div>
</td></tr></table>

<p>这是取余运算符—x%y的结果为x除以y的余数。最后一个运算符就是幂（乘方）运算符：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="mi">2</span><span class="o">**</span><span class="mi">3</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>8
</pre></div>
</td></tr></table>

<h3 id="4">4 变量</h3>
<p>Python中的变量很好理解，基本上就是代表某值的名字(变量名可以包括字母、数字和下划线，不能以数字开头)。举例来说，如果希望x代表3，只需执行下面的语句即可：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="n">x</span><span class="o">=</span><span class="mi">3</span>
</pre></div>
</td></tr></table>

<p>这样的操作称为赋值，值3赋给了变量x。在变量被赋值之后，就可以在表达式中使用变量。</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="n">x</span><span class="o">*</span><span class="mi">2</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>6
</pre></div>
</td></tr></table>

<p>多个赋值操作可以同时进行：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span>
<span class="k">print</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>1 2 3
</pre></div>
</td></tr></table>

<p>将表达式运算符（+、-、*、/等）放置在赋值运算符（=）的左边，这种写法叫做增量赋值：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span class="n">x</span><span class="o">=</span><span class="mi">2</span>
<span class="n">x</span><span class="o">+=</span><span class="mi">1</span>
<span class="n">x</span><span class="o">*=</span><span class="mi">2</span>
<span class="n">x</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>6
</pre></div>
</td></tr></table>

<p>增量赋值可以让代码更加紧凑和简练，很多情况下会更易读。</p>
<h3 id="5">5 语句</h3>
<p>上面我已经介绍了两类语句：print语句和赋值语句。那么语句和表达式之间有什么区别呢？表达式是某事，而语句是做某事（换句话说就是告诉计算机做什么）。比如2*2是4，而print 2*2打印4。事实上print打印多个表达式也是可行的。</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="k">print</span> <span class="s">&#39;Age&#39;</span><span class="p">,</span> <span class="mi">42</span>  <span class="c">#使用逗号隔开</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>Age 42
</pre></div>
</td></tr></table>

<h3 id="6">6 获取用户输入</h3>
<p>怎么获取用户提供的值呢？看看非常有用的input函数吧。</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="n">x</span><span class="o">=</span><span class="nb">input</span><span class="p">(</span><span class="s">&quot;x:&quot;</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="n">x</span><span class="o">:</span><span class="mi">20</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="n">y</span><span class="o">=</span><span class="nb">input</span><span class="p">(</span><span class="s">&quot;y:&quot;</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="n">y</span><span class="o">:</span><span class="mi">31</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="k">print</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>620
</pre></div>
</td></tr></table>

<p>输入的值20和31由用户提供。</p>
<h3 id="7">7 函数</h3>
<p>函数就像可以用来实现特定功能的小程序一样。我们通常把标准函数称为内建函数。比如使用abs函数可以得到数的绝对值，round函数则会把浮点数四舍五入为最接近的整数值：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="nb">abs</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>10
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="nb">round</span><span class="p">(</span><span class="mf">0.4</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>0.0
</pre></div>
</td></tr></table>

<h3 id="8">8 模块</h3>
<p>可以把模块想象成导入到Python中以增强其功能的扩展。需要使用特殊的命令import来导入模块。比如floor函数(向下取整)就在名为math的模块中：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span class="kn">import</span> <span class="nn">math</span>
<span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="mf">2.9</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>2.0
</pre></div>
</td></tr></table>

<p>如果想把2.9转化为整数而不是浮点数，可以使用int函数：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="nb">int</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="mf">2.9</span><span class="p">))</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>2
</pre></div>
</td></tr></table>

<p>在确定自己不会导入多个同名函数（从不同模块导入）的情况下，你可能不希望在每次调用函数的时候，都要写上模块的名字。那么，可以使用import命令的另外一种形式：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sqrt</span>
<span class="n">sqrt</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>3.0
</pre></div>
</td></tr></table>

<p>事实上，可以使用变量来引用函数。比如，通过foo=math.sqrt进行赋值，然后就可以使用foo来计算平方根了：foo(4)的结果为2.0。也可以为函数提供别名：from math import sqrt as foobar</p>
<h3 id="9">9 保存并执行程序</h3>
<p>交互式解释器是Python的强项之一，它让实时检验解决方案并且体验这门语言成为了现实。但是，在交互式解释器里面输入的一切都会在它退出的时候丢失。我们真正想做的事情是编写自己和他人都能运行的程序。如何实现呢？  <br />
首先，需要一个文本编辑器。然后将程序保存在以.py结尾的文本文件中。如果使用Python解释器可通过Edit-&gt;Run或者按下Ctrl+F5键来运行程序。如果使用DOS窗口或者Linux中的Shell提示符可通过运行以下命令执行脚本：python *.py</p>
<h3 id="10">10 注释</h3>
<p>井号（#）在Python中有特殊作用。在代码中输入它的时候，它右边的一切都会被忽略。比如：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span class="c"># 打印圆的周长：    </span>
<span class="k">print</span> <span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="o">*</span><span class="n">radius</span>
</pre></div>
</td></tr></table>

<p>这里的第一行称为注释。为了让别人能够更容易理解程序，使用注释是非常有效的。</p>
<h3 id="11">11 字符串</h3>
<p>在程序中可以使用双引号将字符串括起来：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="s">&quot;Let&#39;s go!&quot;</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>&quot;Let&#39;s go!&quot;
</pre></div>
</td></tr></table>

<p>也可以使用单引号将字符串括起来：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="s">&#39;Hello,world!&#39;</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>&#39;Hello,world!&#39;
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="s">&#39;Let&#39;</span><span class="n">s</span> <span class="n">go</span><span class="err">!</span><span class="s">&#39;</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre>  File &quot;&lt;ipython-input-3-572d1938a729&gt;&quot;, line 1
    &#39;Let&#39;s go!&#39;
         ^
SyntaxError: invalid syntax
</pre></div>
</td></tr></table>

<h4 id="111-">11.1 转义符号-反斜线</h4>
<p>这时可以使用反斜线(\)对字符串中的引号进行转义。</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="s">&#39;Let</span><span class="se">\&#39;</span><span class="s">s go!&#39;</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>&quot;Let&#39;s go!&quot;
</pre></div>
</td></tr></table>

<h4 id="112">11.2 拼接字符串</h4>
<p>Python中该怎么<strong>拼接字符串</strong>呢？就像进行加法运算一样：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="s">&quot;Hello, &quot;</span><span class="o">+</span><span class="s">&quot;world!&quot;</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>&#39;Hello, world!&#39;
</pre></div>
</td></tr></table>

<h4 id="113-strrepr">11.3 字符串表示，str和repr</h4>
<p>通过Python打印的字符串还是被引号括起来的。这是因为Python在打印值时会保持该值在Python代码中的状态。如果使用print语句，结果就不一样了：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="il">10000L</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>10000L
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="k">print</span> <span class="s">&quot;Hello, &quot;</span><span class="o">+</span><span class="s">&quot;world!&quot;</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>Hello, world!
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="k">print</span> <span class="il">10000L</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>10000
</pre></div>
</td></tr></table>

<p>可以看到，长整型数10000L被转换成了数字10000。但是，当你想知道一个变量的值时，可能会对它是整型还是长整型感兴趣。   <br />
我们在这里讨论的实际上是值被转换为字符串的两种机制。可以通过以下两个函数来实现这两种机制：一是通过str函数，它会把值转换为合理形式的字符串，以便用户可以理解；而repr会创建一个字符串，它以合法的Python表达式的形式来表达值。比如：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="k">print</span> <span class="nb">repr</span><span class="p">(</span><span class="s">&#39;Hello, world!&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>&#39;Hello, world!&#39;
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="k">print</span> <span class="nb">repr</span><span class="p">(</span><span class="il">10000L</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>10000L
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="k">print</span> <span class="nb">str</span><span class="p">(</span><span class="s">&#39;Hello, world!&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>Hello, world!
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="k">print</span> <span class="nb">str</span><span class="p">(</span><span class="il">10000L</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>10000
</pre></div>
</td></tr></table>

<p><strong>简而言之，str、repr是将Python值转换为字符串的2种方法。函数str让字符串更易于阅读，而repr则把结果字符串转换为合法的Python表达式。</strong></p>
<h4 id="114-inputraw_input">11.4 input和raw_input的比较</h4>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span class="n">name</span><span class="o">=</span><span class="nb">input</span><span class="p">(</span><span class="s">&#39;what is your name?&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;Hello, &#39;</span><span class="o">+</span><span class="n">name</span><span class="o">+</span><span class="s">&#39;!&#39;</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="codehilite"><pre>what is your name?Tom



---------------------------------------------------------------------------

NameError                                 Traceback (most recent call last)

&lt;ipython-input-1-46de911846e6&gt; in &lt;module&gt;()
----&gt; 1 name=input(&#39;what is your name?&#39;)
      2 print &#39;Hello, &#39;+name+&#39;!&#39;


c:\python27\lib\site-packages\ipykernel\ipkernel.pyc in &lt;lambda&gt;(prompt)
    139             self._sys_eval_input = builtin_mod.input
    140             builtin_mod.raw_input = self.raw_input
--&gt; 141             builtin_mod.input = lambda prompt=&#39;&#39;: eval(self.raw_input(prompt))
    142         self._save_getpass = getpass.getpass
    143         getpass.getpass = self.getpass


c:\python27\lib\site-packages\ipykernel\ipkernel.pyc in &lt;module&gt;()


NameError: name &#39;Tom&#39; is not defined
</pre></div>
</td></tr></table>

<p>问题在于input会假设用户输入的是合法的Python表达式。如果以字符串作为输入的名字，程序运行是没有问题的：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span class="n">name</span><span class="o">=</span><span class="nb">input</span><span class="p">(</span><span class="s">&#39;what is your name?&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;Hello, &#39;</span><span class="o">+</span><span class="n">name</span><span class="o">+</span><span class="s">&#39;!&#39;</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre>what is your name?&#39;Tom&#39;
Hello, Tom!
</pre></div>
</td></tr></table>

<p>然而，要求用户带着引号输入他们的名字有点过分，因此，这就需要使用raw_input函数，它会把所有的输入当作原始数据，然后将其放入字符串中：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span class="n">name</span><span class="o">=</span><span class="nb">raw_input</span><span class="p">(</span><span class="s">&#39;what is your name?&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;Hello, &#39;</span><span class="o">+</span><span class="n">name</span><span class="o">+</span><span class="s">&#39;!&#39;</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre>what is your name?Tom
Hello, Tom!
</pre></div>
</td></tr></table>

<p><strong>除非对input有特别的需要，否则应该尽可能使用raw_input函数。</strong>     </p>
<h4 id="115">11.5 原始字符串</h4>
<p>普通字符串可以跨行。如果一行之中最后一个字符是反斜线，那么，换行符本身就被“转义”了，也就是被忽略了，例如：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span class="k">print</span> <span class="s">&#39;hello, </span><span class="se">\</span>
<span class="s">world!&#39;</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>hello, world!
</pre></div>
</td></tr></table>

<p>在普通字符串中，反斜线有特殊作用：它会<strong>转义</strong>，，可以在字符串中加入通常情况下不能直接加入的内容。例如，换行符可以写为\n，并可放于字符串中，如下：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="k">print</span> <span class="s">&#39;Hello,</span><span class="se">\n</span><span class="s">world!&#39;</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre>Hello,
world!
</pre></div>
</td></tr></table>

<p>这看起来不错，但是有时候，这并非是想要的结果。如果希望在字符串中包含反斜线再加上n怎么办？例如，像Windows路径&rdquo;C:\nowhere&rdquo;这样的字符串：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="k">print</span> <span class="s">&#39;C:</span><span class="se">\n</span><span class="s">owhere&#39;</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span class="n">C</span><span class="o">:</span>
<span class="n">owhere</span>
</pre></div>
</td></tr></table>

<p>这并不是期望的结果。那么该怎么办呢？可以使用反斜线对其本身进行转义：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="k">print</span> <span class="s">&#39;C:</span><span class="se">\\</span><span class="s">nowhere&#39;</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>C:\nowhere
</pre></div>
</td></tr></table>

<p>这看起来不错，但是对于长路径，那么可能需要很多反斜线。在这样的情况下，<strong>原始字符串</strong>就派上用场了。原始字符串不会把反斜线当作特殊字符。在原始字符串中输入的每个字符都会与书写的方式保持一致：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="k">print</span> <span class="s">r&#39;C:\nowhere&#39;</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>C:\nowhere
</pre></div>
</td></tr></table>

<p>可以看到，<strong>原始字符串</strong>以r开头。不能在原始字符串结尾输入反斜线。如果最后一个字符是反斜线，Python就不清楚是否应该结束字符串：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span class="k">print</span> <span class="s">r&#39;This is illegal</span><span class="se">\&#39;</span>
</pre></div>
</td></tr></table>

<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre>  File &quot;&lt;ipython-input-10-f19bd253ec0b&gt;&quot;, line 1
    print r&#39;This is illegal\&#39;
                            ^
SyntaxError: EOL while scanning string literal
</pre></div>
</td></tr></table>

<h3 id="12">12 小结</h3>
<p>本章讲了很多内容。在继续下一章之前，可以回顾一下在本章学到的知识点。</p>
<hr/>
标签: <span class="label label-default">python</span> <span class="label label-default">basics</span> <span class="label label-default">1</span><br/>
创建时间: 2016.10.09<br/>
上次修改: 2016.10.09
<div class="ds-thread" data-thread-key="8453e91e9011ab99dfbb3b16f56ac222" data-title="基础知识" data-url="http://peishunli.github.io/blog/python_beginning/1begin.html"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"peishunli"};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (
        document.location.protocol == 'https:' ? 'https:' : 'http:'
    ) + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
     || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script>
</div>
</div>

<footer class="page-footer">
  <div id="container">
    <div class="footer-left">
        <h4 class="white-text">关于peishunli.site</h4>
        <ul class="mdul">
          <li class="mdli white-text">本网站提供的内容仅用于学习和分享，不能保证内容一定正确...</li>
        </ul>
    </div>
    <div class="footer-right">
        <h4 class="white-text">其他网站链接</h4>
        <ul class="mdul">
          <li class="mdli"><a class="white-text" href="http://github.com/">Github</a></li>
		  <li class="mdli"><a class="white-text" href="http://www.zhihu.com/">知乎</a></li>
        </ul>
    </div>
  </div>
  <div class="footer-copyright">
    <div id="container">
        Copyright © 2015-2016 Powered by peishunli. All rights reserved.
    </div>
  </div>
</footer>
</body>
</html>
